import{a as c}from"./chunk-XWODR3QY.js";import{b as n,c as d}from"./chunk-Z67MO5CF.js";import{Q as o,Qb as a,V as e,ja as i}from"./chunk-BIY3REYI.js";var m=class r{#t=e(c);#e=e(n);#s=e(d);#r=i(null);items=this.#r.asReadonly();count=a(()=>this.#r()?.length??0);load(){this.#t.list().subscribe({next:t=>this.#r.set(t),error:()=>this.#r.set([])})}add(t){this.#t.add(t).subscribe({next:()=>{this.#e.success("Guardado para despu\xE9s"),this.load()},error:()=>this.#e.warning("No se pudo guardar")})}remove(t){this.#t.remove(t).subscribe({next:()=>this.load(),error:()=>{}})}moveToCart(t,s=1){this.#t.moveToCart(t,s).subscribe({next:()=>{this.#e.success("Movido al carrito"),this.load(),this.#s.reload()},error:()=>this.#e.warning("No se pudo mover")})}static \u0275fac=function(s){return new(s||r)};static \u0275prov=o({token:r,factory:r.\u0275fac,providedIn:"root"})};export{m as a};
