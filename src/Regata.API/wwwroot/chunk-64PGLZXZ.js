import{a as N,b as W,c as D,f as T,p as F}from"./chunk-S2MMUX5V.js";import{a as I}from"./chunk-CLVRU5UC.js";import{g as k,r as x}from"./chunk-FI2SLH6F.js";import{Da as o,Eb as p,Fb as u,Gb as f,Ma as A,R as v,Ra as S,W as c,a as C,aa as _,ba as y,cb as h,db as t,eb as e,fb as E,kb as M,nb as g,ob as w,xb as P,yb as a,zb as d}from"./chunk-4XZ7JV2Z.js";var b=class m{#e=c(x);#t=I.apiBaseUrl+"/admin/categories";list(){return this.#e.get(this.#t,{withCredentials:!0})}upsert(l){return this.#e.post(this.#t,l,{withCredentials:!0})}static \u0275fac=function(n){return new(n||m)};static \u0275prov=v({token:m,factory:m.\u0275fac,providedIn:"root"})};function j(m,l){if(m&1){let n=M();t(0,"tr")(1,"td"),a(2),e(),t(3,"td")(4,"code"),a(5),e()(),t(6,"td")(7,"span",15),a(8),e()(),t(9,"td")(10,"button",16),g("click",function(){let s=_(n).$implicit,r=w();return y(r.edit(s))}),a(11,"Editar"),e()()()}if(m&2){let n=l.$implicit;o(2),d(n.name),o(3),d(n.slug),o(2),P("text-bg-success",n.active)("text-bg-secondary",!n.active),o(),d(n.active?"S\xED":"No")}}var O=class m{#e=c(b);list=[];form={active:!0};ngOnInit(){this.reload()}reload(){this.#e.list().subscribe({next:l=>this.list=l,error:()=>this.list=[]})}edit(l){this.form=C({},l)}reset(){this.form={active:!0}}save(){this.#e.upsert(this.form).subscribe({next:()=>{this.reset(),this.reload()},error:()=>{}})}static \u0275fac=function(n){return new(n||m)};static \u0275cmp=A({type:m,selectors:[["ng-component"]],decls:33,vars:6,consts:[[1,"container","my-4"],[1,"row","g-3"],[1,"col-12","col-md-6"],[1,"table-responsive"],[1,"table","align-middle"],[4,"ngFor","ngForOf"],[1,"card","p-3"],["placeholder","Nombre","name","name",1,"form-control","mb-2",3,"ngModelChange","ngModel"],["placeholder","Slug (rines, llantas)","name","slug",1,"form-control","mb-2",3,"ngModelChange","ngModel"],[1,"form-check","mb-2"],["type","checkbox","id","cActive","name","active",1,"form-check-input",3,"ngModelChange","ngModel"],["for","cActive",1,"form-check-label"],[1,"d-flex","gap-2"],[1,"btn","btn-dark",3,"click","disabled"],[1,"btn","btn-outline-secondary",3,"click"],[1,"badge"],[1,"btn","btn-sm","btn-outline-secondary",3,"click"]],template:function(n,i){n&1&&(t(0,"section",0)(1,"h2"),a(2,"Categor\xEDas"),e(),t(3,"div",1)(4,"div",2)(5,"div",3)(6,"table",4)(7,"thead")(8,"tr")(9,"th"),a(10,"Nombre"),e(),t(11,"th"),a(12,"Slug"),e(),t(13,"th"),a(14,"Activa"),e(),E(15,"th"),e()(),t(16,"tbody"),S(17,j,12,7,"tr",5),e()()()(),t(18,"div",2)(19,"div",6)(20,"h5"),a(21),e(),t(22,"input",7),f("ngModelChange",function(r){return u(i.form.name,r)||(i.form.name=r),r}),e(),t(23,"input",8),f("ngModelChange",function(r){return u(i.form.slug,r)||(i.form.slug=r),r}),e(),t(24,"div",9)(25,"input",10),f("ngModelChange",function(r){return u(i.form.active,r)||(i.form.active=r),r}),e(),t(26,"label",11),a(27,"Activa"),e()(),t(28,"div",12)(29,"button",13),g("click",function(){return i.save()}),a(30,"Guardar"),e(),t(31,"button",14),g("click",function(){return i.reset()}),a(32,"Limpiar"),e()()()()()()),n&2&&(o(17),h("ngForOf",i.list),o(4),d(i.form.id?"Editar categor\xEDa":"Nueva categor\xEDa"),o(),p("ngModel",i.form.name),o(),p("ngModel",i.form.slug),o(2),p("ngModel",i.form.active),o(4),h("disabled",!i.form.name||!i.form.slug))},dependencies:[k,F,W,N,D,T],encapsulation:2})};export{O as CategoriesAdminPage};
