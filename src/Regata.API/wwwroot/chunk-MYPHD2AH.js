import{a as U,b as N,c as T,f as W,p as F}from"./chunk-S2MMUX5V.js";import{a as I}from"./chunk-CLVRU5UC.js";import{g as x,r as k}from"./chunk-FI2SLH6F.js";import{Da as m,Eb as f,Fb as u,Gb as b,Ma as M,R as B,Ra as _,W as c,a as A,aa as S,ba as C,cb as s,db as t,eb as e,fb as v,kb as w,nb as g,ob as y,xb as P,yb as o,za as E,zb as p}from"./chunk-4XZ7JV2Z.js";var h=class a{#e=c(k);#t=I.apiBaseUrl+"/admin/brands";list(){return this.#e.get(this.#t,{withCredentials:!0})}upsert(l){return this.#e.post(this.#t,l,{withCredentials:!0})}static \u0275fac=function(i){return new(i||a)};static \u0275prov=B({token:a,factory:a.\u0275fac,providedIn:"root"})};function O(a,l){if(a&1&&v(0,"img",18),a&2){let i=y().$implicit;s("src",i.logoUrl,E)}}function V(a,l){if(a&1){let i=w();t(0,"tr")(1,"td"),o(2),e(),t(3,"td"),_(4,O,1,1,"img",15),e(),t(5,"td")(6,"span",16),o(7),e()(),t(8,"td")(9,"button",17),g("click",function(){let d=S(i).$implicit,r=y();return C(r.edit(d))}),o(10,"Editar"),e()()()}if(a&2){let i=l.$implicit;m(2),p(i.name),m(2),s("ngIf",i.logoUrl),m(2),P("text-bg-success",i.active)("text-bg-secondary",!i.active),m(),p(i.active?"S\xED":"No")}}var L=class a{#e=c(h);list=[];form={active:!0};ngOnInit(){this.reload()}reload(){this.#e.list().subscribe({next:l=>this.list=l,error:()=>this.list=[]})}edit(l){this.form=A({},l)}reset(){this.form={active:!0}}save(){this.#e.upsert(this.form).subscribe({next:()=>{this.reset(),this.reload()},error:()=>{}})}static \u0275fac=function(i){return new(i||a)};static \u0275cmp=M({type:a,selectors:[["ng-component"]],decls:33,vars:6,consts:[[1,"container","my-4"],[1,"row","g-3"],[1,"col-12","col-md-6"],[1,"table-responsive"],[1,"table","align-middle"],[4,"ngFor","ngForOf"],[1,"card","p-3"],["placeholder","Nombre","name","name",1,"form-control","mb-2",3,"ngModelChange","ngModel"],["placeholder","Logo URL","name","logoUrl",1,"form-control","mb-2",3,"ngModelChange","ngModel"],[1,"form-check","mb-2"],["type","checkbox","id","bActive","name","active",1,"form-check-input",3,"ngModelChange","ngModel"],["for","bActive",1,"form-check-label"],[1,"d-flex","gap-2"],[1,"btn","btn-dark",3,"click","disabled"],[1,"btn","btn-outline-secondary",3,"click"],["alt","logo","width","48","height","24",3,"src",4,"ngIf"],[1,"badge"],[1,"btn","btn-sm","btn-outline-secondary",3,"click"],["alt","logo","width","48","height","24",3,"src"]],template:function(i,n){i&1&&(t(0,"section",0)(1,"h2"),o(2,"Marcas"),e(),t(3,"div",1)(4,"div",2)(5,"div",3)(6,"table",4)(7,"thead")(8,"tr")(9,"th"),o(10,"Nombre"),e(),t(11,"th"),o(12,"Logo"),e(),t(13,"th"),o(14,"Activa"),e(),v(15,"th"),e()(),t(16,"tbody"),_(17,V,11,7,"tr",5),e()()()(),t(18,"div",2)(19,"div",6)(20,"h5"),o(21),e(),t(22,"input",7),b("ngModelChange",function(r){return u(n.form.name,r)||(n.form.name=r),r}),e(),t(23,"input",8),b("ngModelChange",function(r){return u(n.form.logoUrl,r)||(n.form.logoUrl=r),r}),e(),t(24,"div",9)(25,"input",10),b("ngModelChange",function(r){return u(n.form.active,r)||(n.form.active=r),r}),e(),t(26,"label",11),o(27,"Activa"),e()(),t(28,"div",12)(29,"button",13),g("click",function(){return n.save()}),o(30,"Guardar"),e(),t(31,"button",14),g("click",function(){return n.reset()}),o(32,"Limpiar"),e()()()()()()),i&2&&(m(17),s("ngForOf",n.list),m(4),p(n.form.id?"Editar marca":"Nueva marca"),m(),f("ngModel",n.form.name),m(),f("ngModel",n.form.logoUrl),m(2),f("ngModel",n.form.active),m(4),s("disabled",!n.form.name))},dependencies:[x,F,N,U,T,W],encapsulation:2})};export{L as BrandsAdminPage};
