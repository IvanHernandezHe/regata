import{a as N}from"./chunk-XZYRJXKI.js";import{e as L}from"./chunk-O3H6VTXY.js";import{b as E,c as w}from"./chunk-2VES27NH.js";import{a as T}from"./chunk-SG536L4V.js";import{f as h,h as I,k as P}from"./chunk-FI2SLH6F.js";import{Bb as f,Da as i,Kb as b,Lb as y,Ma as x,Nb as S,Ra as s,W as p,aa as C,ba as _,cb as c,db as o,eb as a,fb as v,kb as k,nb as m,ob as u,yb as d,zb as l}from"./chunk-4XZ7JV2Z.js";var F=n=>["/product",n];function A(n,t){if(n&1&&(o(0,"span",13),d(1),a()),n&2){let e=u();i(),l(e.product.category)}}function D(n,t){if(n&1&&(o(0,"span",14),d(1),a()),n&2){let e=u();c("ngClass",e.stockClass(e.product.stock||0)),i(),l(e.stockLabel(e.product.stock||0))}}function M(n,t){if(n&1){let e=k();o(0,"button",15),m("click",function(){C(e);let g=u();return _(g.saveForLater())}),d(1,"Guardar"),a()}}var j=class n{product;#t=p(w);auth=p(T);#e=p(N);#n=p(E);addToCart(){this.#t.add(this.product)}saveForLater(){this.#e.add(this.product.id)}stockClass(t){return t<=5?"bg-danger":t<=20?"bg-warning text-dark":"bg-success"}stockLabel(t){return t<=5?`Quedan ${t}`:t<=20?`Stock bajo: ${t}`:`Stock: ${t}`}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=x({type:n,selectors:[["app-product-card"]],inputs:{product:"product"},decls:19,vars:17,consts:[[1,"card","h-100","position-relative"],["class","badge rounded-pill text-bg-light position-absolute top-0 start-0 m-2 border",4,"ngIf"],[3,"routerLink"],["src","/assets/pzero-1_80.jpg","alt","llanta",1,"card-img-top","p-4"],[1,"card-body","d-flex","flex-column"],[1,"card-title"],[1,"text-decoration-none",3,"routerLink"],[1,"card-text","text-muted","m-0"],["class","badge mt-1",3,"ngClass",4,"ngIf"],[1,"mt-auto","d-flex","justify-content-between","align-items-center"],[1,"d-flex","gap-2"],["class","btn btn-outline-secondary btn-sm",3,"click",4,"ngIf"],[1,"btn","btn-dark",3,"click"],[1,"badge","rounded-pill","text-bg-light","position-absolute","top-0","start-0","m-2","border"],[1,"badge","mt-1",3,"ngClass"],[1,"btn","btn-outline-secondary","btn-sm",3,"click"]],template:function(e,r){e&1&&(o(0,"div",0),s(1,A,2,1,"span",1),o(2,"a",2),v(3,"img",3),a(),o(4,"div",4)(5,"h5",5)(6,"a",6),d(7),a()(),o(8,"p",7),d(9),a(),s(10,D,2,2,"span",8),o(11,"div",9)(12,"strong"),d(13),y(14,"currency"),a(),o(15,"div",10),s(16,M,2,0,"button",11),o(17,"button",12),m("click",function(){return r.addToCart()}),d(18,"Agregar"),a()()()()()),e&2&&(i(),c("ngIf",r.product.category),i(),c("routerLink",b(13,F,r.product.id)),i(4),c("routerLink",b(15,F,r.product.id)),i(),f(" ",r.product.brand," ",r.product.modelName," "),i(2),f("",r.product.size," \xB7 SKU ",r.product.sku),i(),c("ngIf",r.product.stock!==void 0),i(3),l(S(14,10,r.product.price,"MXN")),i(3),c("ngIf",r.auth.isAuthenticated()))},dependencies:[L,I,h,P],encapsulation:2})};export{j as a};
