import{a as F}from"./chunk-ZDFUH4XF.js";import{a as k}from"./chunk-P6SJQ53I.js";import"./chunk-U6F3WWH4.js";import"./chunk-Z2AK4YHA.js";import{b}from"./chunk-OGOOJ37H.js";import{c as C}from"./chunk-LFHAJQI2.js";import"./chunk-YONKQZSU.js";import{g as P,i as w}from"./chunk-FNKGIW6C.js";import{Ba as c,Ib as S,Jb as _,Ka as g,Pa as f,W as a,aa as s,ab as p,ba as l,bb as r,cb as i,db as h,ib as v,lb as m,tb as y,wb as u}from"./chunk-7DVQ7J3I.js";function E(n,e){if(n&1&&(r(0,"div",9),h(1,"app-product-card",10),i()),n&2){let t=e.$implicit;c(),p("product",t)}}var T=class n{api=a(k);route=a(b);cart=a(C);products$=this.api.getProducts();currentQuery="";add(e){this.cart.add(e)}onSearch(e){let t=(e||"").trim();this.products$=this.api.getProducts(t||void 0)}trackById(e,t){return t.id}constructor(){let e=this.route.snapshot.queryParamMap.get("q");e&&(this.currentQuery=e,this.onSearch(e))}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=g({type:n,selectors:[["ng-component"]],decls:12,vars:5,consts:[["q",""],[1,"container","my-4"],[1,"d-flex","flex-column","flex-lg-row","justify-content-between","align-items-lg-center","gap-2","mb-3"],[1,"m-0"],[1,"d-flex","align-items-center","gap-2","w-100","w-lg-auto"],["placeholder","Buscar marca, modelo o SKU",1,"form-control",3,"input","value"],[1,"btn","btn-outline-secondary",3,"click"],[1,"row","g-3"],["class","col-12 col-sm-6 col-lg-4",4,"ngFor","ngForOf","ngForTrackBy"],[1,"col-12","col-sm-6","col-lg-4"],[3,"product"]],template:function(t,o){if(t&1){let d=v();r(0,"section",1)(1,"div",2)(2,"h2",3),u(3,"Tienda"),i(),r(4,"div",4)(5,"input",5,0),m("input",function(){s(d);let q=y(6);return l(o.onSearch(q.value))}),i(),r(7,"button",6),m("click",function(){return s(d),l(o.onSearch(""))}),u(8,"Limpiar"),i()()(),r(9,"div",7),f(10,E,2,1,"div",8),S(11,"async"),i()()}t&2&&(c(5),p("value",o.currentQuery),c(5),p("ngForOf",_(11,3,o.products$))("ngForTrackBy",o.trackById))},dependencies:[P,F,w],encapsulation:2})};export{T as ShopPage};
