import{a as N}from"./chunk-GAFWBF7K.js";import{e as L}from"./chunk-EEXHPHRE.js";import{b as w,c as E}from"./chunk-Z67MO5CF.js";import{a as T}from"./chunk-VERFBTRB.js";import{f as y,h as I,k as P}from"./chunk-DW6AFCKZ.js";import{$ as g,$a as d,Aa as i,Fb as b,Gb as S,Ib as h,Ja as k,Oa as u,V as p,aa as _,ab as o,bb as a,cb as v,hb as x,kb as s,lb as l,vb as c,wb as m,yb as f}from"./chunk-BIY3REYI.js";var F=r=>["/product",r];function A(r,t){if(r&1&&(o(0,"span",12),c(1),a()),r&2){let e=l();d("ngClass",e.stockClass(e.product.stock||0)),i(),m(e.stockLabel(e.product.stock||0))}}function D(r,t){if(r&1){let e=x();o(0,"button",13),s("click",function(){g(e);let C=l();return _(C.saveForLater())}),c(1,"Guardar"),a()}}var j=class r{product;#t=p(E);auth=p(T);#e=p(N);#n=p(w);addToCart(){this.#t.add(this.product)}saveForLater(){this.#e.add(this.product.id)}stockClass(t){return t<=5?"bg-danger":t<=20?"bg-warning text-dark":"bg-success"}stockLabel(t){return t<=5?`Quedan ${t}`:t<=20?`Stock bajo: ${t}`:`Stock: ${t}`}static \u0275fac=function(e){return new(e||r)};static \u0275cmp=k({type:r,selectors:[["app-product-card"]],inputs:{product:"product"},decls:18,vars:16,consts:[[1,"card","h-100"],[3,"routerLink"],["src","/assets/pzero-1_80.jpg","alt","llanta",1,"card-img-top","p-4"],[1,"card-body","d-flex","flex-column"],[1,"card-title"],[1,"text-decoration-none",3,"routerLink"],[1,"card-text","text-muted","m-0"],["class","badge mt-1",3,"ngClass",4,"ngIf"],[1,"mt-auto","d-flex","justify-content-between","align-items-center"],[1,"d-flex","gap-2"],["class","btn btn-outline-secondary btn-sm",3,"click",4,"ngIf"],[1,"btn","btn-dark",3,"click"],[1,"badge","mt-1",3,"ngClass"],[1,"btn","btn-outline-secondary","btn-sm",3,"click"]],template:function(e,n){e&1&&(o(0,"div",0)(1,"a",1),v(2,"img",2),a(),o(3,"div",3)(4,"h5",4)(5,"a",5),c(6),a()(),o(7,"p",6),c(8),a(),u(9,A,2,2,"span",7),o(10,"div",8)(11,"strong"),c(12),S(13,"currency"),a(),o(14,"div",9),u(15,D,2,0,"button",10),o(16,"button",11),s("click",function(){return n.addToCart()}),c(17,"Agregar"),a()()()()()),e&2&&(i(),d("routerLink",b(12,F,n.product.id)),i(4),d("routerLink",b(14,F,n.product.id)),i(),f(" ",n.product.brand," ",n.product.modelName," "),i(2),f("",n.product.size," \xB7 SKU ",n.product.sku),i(),d("ngIf",n.product.stock!==void 0),i(3),m(h(13,9,n.product.price,"MXN")),i(3),d("ngIf",n.auth.isAuthenticated()))},dependencies:[L,I,y,P],encapsulation:2})};export{j as a};
